<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">12 posts tagged with &quot;React&quot; | I CAN MAKE THIS WORK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://blog.johnnyreilly.com/img/profile.jpg"><meta data-rh="true" name="twitter:image" content="https://blog.johnnyreilly.com/img/profile.jpg"><meta data-rh="true" property="og:url" content="https://blog.johnnyreilly.com/tags/react/page/9"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="max-image-preview:large"><meta data-rh="true" name="monetization" content="$ilp.uphold.com/LwQQhXdpwxeJ"><meta data-rh="true" property="og:title" content="12 posts tagged with &quot;React&quot; | I CAN MAKE THIS WORK"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.johnnyreilly.com/tags/react/page/9"><link data-rh="true" rel="alternate" href="https://blog.johnnyreilly.com/tags/react/page/9" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.johnnyreilly.com/tags/react/page/9" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://J3MYR1INLT-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="I CAN MAKE THIS WORK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51754530-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3N85G0SL3K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3N85G0SL3K",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="I CAN MAKE THIS WORK" href="/opensearch.xml">

<link rel="icon" href="/img/profile-64x64.jpg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#3578e5">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/favicon/apple-touch-icon.png">
<link rel="preload" href="https://blog.johnnyreilly.com/fonts/Poppins-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://blog.johnnyreilly.com/fonts/Poppins-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="monetization" href="https://ilp.uphold.com/LwQQhXdpwxeJ"><link rel="stylesheet" href="/assets/css/styles.c2f0c839.css">
<link rel="preload" href="/assets/js/runtime~main.20254d35.js" as="script">
<link rel="preload" href="/assets/js/main.da33b2ab.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile-64x64.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/profile-64x64.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">I CAN MAKE THIS WORK</b></a><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/archive">Blog Archive</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://fosstodon.org/@johnny_reilly" target="_blank" rel="me" class="navbar__item navbar__link">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/12/11/publishing-docusaurus-to-devto-with-devto-api">Publishing Docusaurus to dev.to with the dev.to API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/12/04/azure-static-web-apps-easyauth-deeplink">Deep linking with Azure Static Web Apps and Easy Auth</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/12/01/docusaurus-using-fontaine-to-reduce-custom-font-cumulative-layout-shift">Docusaurus: Using fontaine to reduce custom font cumulative layout shift</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/11/25/adding-lastmod-to-sitemap-git-commit-date">Adding lastmod to sitemap based on git commits</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/11/22/xml-read-and-write-with-node-js">XML: read and write with Node.js</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>12 posts tagged with &quot;React&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2018/01/14/auth0-typescript-and-aspnet-core">Auth0, TypeScript and ASP.NET Core</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-01-14T00:00:00.000Z" itemprop="datePublished">January 14, 2018</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://blog.johnnyreilly.com/img/profile.jpg" alt="John Reilly"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">John Reilly</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Most applications I write have some need for authentication and perhaps authorisation too. In fact, most apps most people write fall into that bracket. Here&#x27;s the thing: Auth done well is a <!-- -->*<!-- -->big<!-- -->*<!-- --> chunk of work. And the minute you start thinking about that you almost invariably lose focus on the thing you actually want to build and ship.</p><p>So this Christmas I decided it was time to take a look into offloading that particular problem onto someone else. I knew there were third parties who provided Auth-As-A-Service - time to give them a whirl. On the recommendation of a friend, I made Auth0 my first port of call. Lest you be expecting a full breakdown of the various players in this space, let me stop you now; I liked Auth0 so much I strayed no further. Auth0 kicks AAAS. (I&#x27;m so sorry)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-i-wanted-to-build">What I wanted to build<a class="hash-link" href="#what-i-wanted-to-build" title="Direct link to heading">​</a></h2><p>My criteria for &quot;auth success&quot; was this:</p><ul><li>I want to build a SPA, specifically a React SPA. Ideally, I shouldn&#x27;t need a back end of my own at all</li><li>I want to use TypeScript on my client.</li></ul><p>But, for when I do implement a back end:</p><ul><li>I want that to be able to use the client side&#x27;s Auth tokens to allow access to Auth routes on my server.</li><li>‎I want to able to identify the user, given the token, to provide targeted data</li><li>Oh, and I want to use .NET Core 2 for my server.</li></ul><p>And in achieving all of the I want to add minimal code to my app. Not War and Peace. My code should remain focused on doing what it does.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="boil-a-plate">Boil a Plate<a class="hash-link" href="#boil-a-plate" title="Direct link to heading">​</a></h2><p>I ended up with unqualified ticks for all my criteria, but it took some work to find out. I will say that Auth0 do travel the extra mile in terms of getting you up and running. When you create a new Client in Auth0 you&#x27;re given the option to download a quick start using the technology of your choice.</p><p>This was a massive plus for me. I took the quickstart provided and ran with it to get me to the point of meeting my own criteria. You can use this boilerplate for your own ends. Herewith, a walkthrough:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-walkthrough">The Walkthrough<a class="hash-link" href="#the-walkthrough" title="Direct link to heading">​</a></h2><p>Fork and clone the repo at this location: <a href="https://github.com/johnnyreilly/auth0-react-typescript-asp-net-core" target="_blank" rel="noopener noreferrer">https://github.com/johnnyreilly/auth0-react-typescript-asp-net-core</a>.</p><p>What have we got? 2 folders, ClientApp contains the React app, Web contains the ASP.NET Core app. Now we need to get setup with Auth0 and customise our config.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-auth0">Setup Auth0<a class="hash-link" href="#setup-auth0" title="Direct link to heading">​</a></h2><p>Here&#x27;s how to get the app set up with Auth0; you&#x27;re going to need to sign up for a (free) Auth0 account. Then login into Auth0 and go to the management portal.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client">Client<a class="hash-link" href="#client" title="Direct link to heading">​</a></h3><ul><li>Create a Client with the name of your choice and use the Single Page Web Applications template.</li><li>From the new Client Settings page take the Domain and Client ID and update the similarly named properties in the <code>appsettings.Development.json</code> and <code>appsettings.Production.json</code> files with these settings.</li><li>To the Allowed Callback URLs setting add the URLs: <code>http://localhost:3000/callback,http://localhost:5000/callback</code> <!-- -->-<!-- --> the first of these faciliates running in Debug mode, the second in Production mode. If you were to deploy this you&#x27;d need to add other callback URLs in here too.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a class="hash-link" href="#api" title="Direct link to heading">​</a></h3><ul><li>Create an API with the name of your choice (I recommend the same as the Client to avoid confusion), an identifier which can be anything you like; I like to use the URL of my app but it&#x27;s your call.</li><li>From the new API Settings page take the Identifier and update the Audience property in the <code>appsettings.Development.json</code> and <code>appsettings.Production.json</code> files with that value.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-app">Running the App<a class="hash-link" href="#running-the-app" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="production-build">Production build<a class="hash-link" href="#production-build" title="Direct link to heading">​</a></h3><p>Build the client app with <code>yarn build</code> in the <code>ClientApp</code> folder. (Don&#x27;t forget to <code>yarn install</code> first.) Then, in the <code>Web</code> folder <code>dotnet restore</code>, <code>dotnet run</code> and open your browser to <a href="http://localhost:5000" target="_blank" rel="noopener noreferrer"><code>http://localhost:5000</code></a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging">Debugging<a class="hash-link" href="#debugging" title="Direct link to heading">​</a></h3><p>Run the client app using webpack-dev-server using <code>yarn start</code> in the <code>ClientApp</code> folder. Fire up VS Code in the root of the repo and hit F5 to debug the server. Then open your browser to <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer"><code>http://localhost:3000</code></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-tour">The Tour<a class="hash-link" href="#the-tour" title="Direct link to heading">​</a></h2><p>When you fire up the app you&#x27;re presented with &quot;you are not logged in!&quot; message and the option to login. Do it, it&#x27;ll take you to the Auth0 &quot;lock&quot; screen where you can sign up / login. Once you do that you&#x27;ll be asked to confirm access:</p><p><img loading="lazy" src="data:image/webp;base64,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" width="395" height="400" class="img_ev3q"></p><p>All this is powered by Auth0&#x27;s <a href="https://www.npmjs.com/package/auth0-js" target="_blank" rel="noopener noreferrer">auth0-js</a> npm package. (Excellent type definition files are available from Definitely Typed; I&#x27;m using the <a href="https://www.npmjs.com/package/@types/auth0-js" target="_blank" rel="noopener noreferrer">@types/auth0-js</a> package DT publishes.) Usage of which is super simple; it exposes an <code>authorize</code> method that when called triggers the Auth0 lock screen. Once you&#x27;ve &quot;okayed&quot; you&#x27;ll be taken back to the app which will use the <code>parseHash</code> method to extract the access token that Auth0 has provided. Take a look at how our <code>authStore</code> makes use of auth0-js: (don&#x27;t be scared; it uses mobx - but you could use anything)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authstorets">authStore.ts<a class="hash-link" href="#authstorets" title="Direct link to heading">​</a></h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> Auth0UserProfile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> WebAuth </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;auth0-js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> observable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> runInAction </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;mobx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> IAuth0Config </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;../../config&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> StorageFacade </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;../storageFacade&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">IStorageToken</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  accessToken</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  idToken</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  expiresAt</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">STORAGE_TOKEN</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;storage_token&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">AuthStore</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">observable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ref auth0</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> WebAuth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">observable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ref userProfile</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> Auth0UserProfile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">observable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ref token</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> IStorageToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">constructor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">config</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> IAuth0Config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">private</span><span class="token plain"> storage</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> StorageFacade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">auth0 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">WebAuth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      domain</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      clientID</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clientId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      redirectUri</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">redirectUri</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      audience</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">audience</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      responseType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;token id_token&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      scope</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;openid email profile do:admin:thing&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// the do:admin:thing scope is custom and defined in the scopes section of our API in the Auth0 dashboard</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">initialise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">parseToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">storage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">STORAGE_TOKEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">storage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">onStorageChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">parseToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tokenString</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tokenString </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;{}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">onStorageChanged</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> StorageEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">key </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">STORAGE_TOKEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">parseToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">computed</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isAuthenticated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Check whether the current time is past the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// access token&#x27;s expiry time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">expiresAt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">login</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">auth0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">authorize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">handleAuthentication</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">auth0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">parseHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">authResult </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">accessToken </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">idToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          accessToken</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          idToken</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">idToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Set the time that the access token will expire at</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          expiresAt</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> authResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">expiresIn </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// tslint:disable-next-line:no-console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token builtin" style="color:rgb(130, 170, 255)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string string" style="color:rgb(173, 219, 103)">Error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">err</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(173, 219, 103)">. Check the console for further details.</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">setSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> IStorageToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">storage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">STORAGE_TOKEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">getAccessToken</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> accessToken </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;No access token found&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">loadProfile</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> accessToken </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">auth0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">userInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> profile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">throw</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">profile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">runInAction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">userProfile </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> profile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> profile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">undefined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token decorator at operator" style="color:rgb(127, 219, 202)">@</span><span class="token decorator function" style="color:rgb(130, 170, 255)">action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">logout</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Clear access token and ID token from local storage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">storage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">removeItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">STORAGE_TOKEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">token </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">userProfile </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you&#x27;re logged in the app offers you more in the way of navigation options. A &quot;Profile&quot; screen shows you the details your React app has retrieved from Auth0 about you. This is backed by the <code>client.userInfo</code> method on <code>auth0-js</code>. There&#x27;s also a &quot;Ping&quot; screen which is where your React app talks to your ASP.NET Core server. The screenshot below illustrates the result of hitting the &quot;Get Private Data&quot; button:</p><p><img loading="lazy" src="/assets/images/Screenshot-2018-01-13-18.47.49-80755d76b228c7780aebfecaee13b7aa.webp" width="400" height="341" class="img_ev3q"></p><p>The &quot;Get Server to Retrieve Profile Data&quot; button is interesting as it illustrates that the server can get access to your profile data as well. There&#x27;s nothing insecure here; it gets the details using the access token retrieved from Auth0 by the ClientApp and passed to the server. It&#x27;s the API we set up in Auth0 that is in play here. The app uses the Domain and the access token to talk to Auth0 like so:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usercontrollercs">UserController.cs<a class="hash-link" href="#usercontrollercs" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Retrieve the access_token claim which we saved in the OnTokenValidated event</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> accessToken </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Claims</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">FirstOrDefault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;access_token&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// If we have an access_token, then retrieve the user&#x27;s information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token keyword" style="color:rgb(127, 219, 202)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">IsNullOrEmpty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> domain </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> _config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Auth0:Domain&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> apiClient </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 139)">AuthenticationApiClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> userInfo </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">await</span><span class="token plain"> apiClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">GetUserInfoAsync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">Ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can also access the <code>sub</code> claim, which uniquely identifies the user:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usercontrollercs-1">UserController.cs<a class="hash-link" href="#usercontrollercs-1" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// We&#x27;re not doing anything with this, but hey! It&#x27;s useful to know where the user id lives</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> userId </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Claims</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">FirstOrDefault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Security</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Claims</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ClaimTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">NameIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// our userId is the sub value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The reason our ASP.NET Core app works with Auth0 and that we have access to the access token here in the first place is because of our startup code:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="startupcs">Startup.cs<a class="hash-link" href="#startupcs" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(127, 219, 202)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ConfigureServices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 139)">IServiceCollection</span><span class="token plain"> services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> domain </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:rgb(173, 219, 103)">$&quot;https://</span><span class="token interpolation-string interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token interpolation-string interpolation expression language-csharp">Configuration</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token interpolation-string interpolation expression language-csharp string" style="color:rgb(173, 219, 103)">&quot;Auth0:Domain&quot;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token interpolation-string interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token interpolation-string string" style="color:rgb(173, 219, 103)">/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddAuthentication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">DefaultAuthenticateScheme </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> JwtBearerDefaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">AuthenticationScheme</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">DefaultChallengeScheme </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> JwtBearerDefaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">AuthenticationScheme</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddJwtBearer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Authority </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Audience </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> Configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Auth0:Audience&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Events </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 139)">JwtBearerEvents</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                OnTokenValidated </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> context </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">SecurityToken </span><span class="token keyword" style="color:rgb(127, 219, 202)">is</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">JwtSecurityToken</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                        </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Principal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Identity </span><span class="token keyword" style="color:rgb(127, 219, 202)">is</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">ClaimsIdentity</span><span class="token plain"> identity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                            identity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 139)">Claim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;access_token&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">RawData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">FromResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// ....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authorization">Authorization<a class="hash-link" href="#authorization" title="Direct link to heading">​</a></h2><p>We&#x27;re pretty much done now; just one magic button to investigate: &quot;Get Admin Data&quot;. If you presently try and access the admin data you&#x27;ll get a <code>403 Forbidden</code>. It&#x27;s forbidden because that endpoint relies on the <code>&quot;do:admin:thing&quot;</code> scope in our claims:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usercontrollercs-2">UserController.cs<a class="hash-link" href="#usercontrollercs-2" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 139)">Authorize</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments">Scopes</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">DoAdminThing</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 139)">HttpGet</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(173, 219, 103)">&quot;api/userDoAdminThing&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token return-type class-name" style="color:rgb(255, 203, 139)">IActionResult</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">GetUserDoAdminThing</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">Ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Admin endpoint&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scopescs">Scopes.cs<a class="hash-link" href="#scopescs" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Scopes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">         </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// the do:admin:thing scope is custom and defined in the scopes section of our API in the Auth0 dashboard</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">string</span><span class="token plain"> DoAdminThing </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;do:admin:thing&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This wired up in our ASP.NET Core app like so:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="startupcs-1">Startup.cs<a class="hash-link" href="#startupcs-1" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddAuthorization</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddPolicy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Scopes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">DoAdminThing</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> policy </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Requirements</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 139)">HasScopeRequirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Scopes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">DoAdminThing</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// register the scope authorization handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">AddSingleton</span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain">iauthorizationhandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hasscopehandler</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token operator" style="color:rgb(127, 219, 202)">/</span><span class="token plain">iauthorizationhandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hasscopehandlercs">HasScopeHandler.cs<a class="hash-link" href="#hasscopehandlercs" title="Direct link to heading">​</a></h3><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">HasScopeHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:rgb(255, 203, 139)">AuthorizationHandler</span><span class="token type-list class-name punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token type-list class-name" style="color:rgb(255, 203, 139)">hasscoperequirement</span><span class="token type-list class-name punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">override</span><span class="token plain"> </span><span class="token return-type class-name" style="color:rgb(255, 203, 139)">Task</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">HandleRequirementAsync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 139)">AuthorizationHandlerContext</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">HasScopeRequirement</span><span class="token plain"> requirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// If user does not have the scope claim, get out of here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">HasClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;scope&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Issuer </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> requirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Issuer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">CompletedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Split the scopes string into an array</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> scopes </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">FindFirst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;scope&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Issuer </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> requirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Issuer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Split</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token char" style="color:rgb(130, 170, 255)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Succeed if the scope array contains the required scope</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scopes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> s </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> requirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Scope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Succeed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">requirement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">CompletedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token operator" style="color:rgb(127, 219, 202)">/</span><span class="token plain">hasscoperequirement</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The reason we&#x27;re 403ing at present is because when our <code>HasScopeHandler</code> executes, <code>requirement.Scope</code> has the value of <code>&quot;do:admin:thing&quot;</code> and our <code>scopes</code> do not contain that value. To add it, go to your API in the Auth0 management console and add it:</p><p><img loading="lazy" src="data:image/webp;base64,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" width="400" height="260" class="img_ev3q"></p><p>Note that you can control how this scope is acquired using &quot;Rules&quot; in the Auth0 management portal.</p><p>You won&#x27;t be able to access the admin endpoint yet because you&#x27;re still rocking with the old access token; pre-newly-added scope. But when you next login to Auth0 you&#x27;ll see a prompt like this:</p><p><img loading="lazy" src="data:image/webp;base64,UklGRmwZAABXRUJQVlA4IGAZAADQgwCdASpHAZABPp1In0wsLCUkJpGqELATiWdu6dCZAl4JfRREet2i/D/ovV3tqv6T6CP2m9Xv0cf4P0Zuoq9ADy4/3A+E/IXvRH+P7eP9v/c/IPy6/Ldt+8fah9hk7H8j3t/JHUI9qeCXsuto8wj2G+9d/X/rf3T1P+yHsBfznz1/33h9/df87+yHwAfy7+2/8/+8fl78p3/t5ifrb2Cv2N9Nn2EfvF7Jv7aEtIOj9t25/tQ4UNzA29mx8v8nAAQGi+MPYTV+Q24sM6rL0RKATkxSMwewLXUPfsbQdGVUGUO4BxlrKuEDH/fIoTfaxneWAApNl3gVHg8xOAqHDhH1gppQRtS2jhRRDBagBt9xvDavtK8ptIT5AR2V893PnWorZLrB424E4T5RJpD1SnzIAZmJWYbbEslEkPHXFVLHHyuLKzGt3hyEr798/HMeYRpqP3GGPtDsETK2XmO7gYXjwM4iOWgEJhwScdcKKBhUqcuV1JfaUMyKeCUbRO0YrGqzXwa6rMRBmS6p0fZclIO25XOJznmhw31hbBVIBvJK+ZRTpo4ERqOGUVSvD7SilO75Y35+48/qiKLcB7eN3pI3CGJOyxWPmuxVrU/TTVqzeNSWw03GVWx2lwDULHtHdvc5d0KDv+FsyZlfSnbSEOo0mDq4KAOkKtjqwWnD10IDMMp4RS54KdZhGKx0HQuQ8LRCzKvG5dB+Vfrv0ljpAdzFbqcd/x7XfaP9qRNdspGVzcB0fa5SgpGJElTqRkwsnP/kcn8f6k5i9YZ3A5c7dE08DNnd49Q3C3z/IfCvBOwJUA18EUk0JEcOzXd+j8l1PV4gw73mgWtVZdgbX3A1GUvFZ+7TQJyPtqitaprcNEru4VgCL6FVfQeiakTozFhfel8VKW1uGiWL6fCtalMDpNxHqG4W+keao3sHPruQl8EciLvv1gLqYP/VxHkuFB8uxQRlhKDrOJZNoVf/8gYKuq3xzdERKx4pIZtQzUXj1DcLe1uxVakGmC28jTTkARnCeaJL4Z7FiOQIBoPMr12Uar+fir+cC5aAHmDlL+AyYclXDjlDnFkDtVB8p4JpxGJ9jk5mWPP0xpjVjZoDVFZSrN8xmUt/bAhjQYMq8+jBaE2VG/HP59JxTKB5ft+F1hh8Q7MDzSFrVWXQIchKKijIV/yLH7e++4EwStIqBaEoskKyoV4jJ/6TcR6huFtUgPv5WkvZM2HSbiPUNwbpAQwEzYuC6Sd0uL97ZMHGcs3q3G2JTs5LYv2ektxUMRIormBgP1PurJoruQvZihWOPYFBoqtFnE6C7g3jtVrJ3UH8cNICXB9hLHZD9KitZ7PA/2AtgTFkfPGWMtSSRRrEkluY0Zc4P41hOEVgb8Nt8EaOwM+HSFWx8lYtpTA6QxcgdIVbHaq1qUwOkKoAAP7luM7cPfyPCTA4gV4nXVmVerEaUpkKZ2Ls8b4syz2sn6J2b6r0Np8/9JrKzoEhOknF5sKZI6fzb1RaKu6qffgCBJ3+ZugJChzMXbb1Vad4rqYE8Ye5zGvTTHFZhDpYT1KdDvN7YKePtRN+GqhFYOtgJzUpnkDPtAoWKv3polo4mBvTcoBZf3HIss/UqcUqjtp4SFM4YcTiDQAxljGbf7i8CteqtF26b6ROp0aJBZ5boWH4n3yswvOHT7X/xeEkT7/s8WCk5J2bJO1/xKEl9USl7Hket3SeJjQZOGKSp1EwjNAJ43muxArwcCsJZS3s+cjbD+RaaC87P3c9tKKCjCTxmgWvDLN134GTJlCcVLp5oWXFP9I3MTh4MgQSGG6dxRkuH7KC3wrC9Bplq94i0lpDTFC/vR8nL8zjLj0QhWU0ziD8tEkd3LvsOS8oybV7Jw1EF4Ix1v7HGdr7TQ4TovAq4jtPUYFVbsdBbhDHrk1t8q5B/cxou9rd1h71DetHkvisivvi9fLeMee4cvI5ERuPKvgKuHmTA6muw8byuROKlOBF5f2AyxxCHucG7puCdT5hrYJawjePeyFv5zf2AvyTmEFFYVUjwNXvPaX/2rHwiJJQ8zBx7e538PmsjlwxeAEj25yfCNTeFePJZUyxOE3ezVVy0ofjKZ1eVUVWKlvjmkCnn3Iv+uXt1K5konFoEFOtPxgMGjQy9s4vv7ufnLDZkavXnq4sHjm9L4TBpYvgQuJUKzqo+LyevQ1hlHOV/E2yKrHkaqKvt0y/9UDMZbznb7qLMHZMu656lNdfqLbg+WT294G4oILkJ7/UttIOxNyn29jTHc8Zuni4oaXimQXkWRhtU7vBiLhic6CkIo7E8uI6UIWnkYQA5NGiJFlf5d1eBklIFEXkBCOsuw8yGOWbd6WXivJXr6zWrIEecZRfhQVYSCKPwa+I2p4HzOtB+5g0R09ZuAKbW+8k7cd1urWifM7y5NzofrUr4q7KVM1LOL36eeavxA3Hv2yNso2vuk5m/USfJLkvU1WNLsThY539K1PEUrN4sHop4EjIdMc08/SSJeFcmFUuAG1fcJNBQfWjYsXVRWe7amBmNOxyBPoTBuqdEvwqTcFna10doqiuSq8CFm8JDEHGiQIN4AZfQ7cfurPtQviLrq523uD3sZuQ0SrjYu+ntlrErTP6m383e1+kfxx2tXlfle5FSwVUMtdYCcJ0nUCFgSxtb2LOKSDvT1zvRQ7hR7CRZOOHbU7fr0Zg0Q3juKr3kEdymNjE16z+raEYdGKxv5HhJ01YRQbpGhZmxSQ229rfXqgFVaJg0eGqtocKp8D/a+2pXgtAg83spHlmwCna55LQFiMG+mJdgd3Pv9/HYCYpjMrFv7drV4N0LC6n+NgRBkDPWB5kXs5GBMqzZacXHEFQegjdvEcVka08RRKYxpVJhTzP89fhennUw9SzGMiE1wVNWvwRiRcdhLe9rL9JRETuRjTpdrKEEkz0XtWQT4QTkgwem3+rTKirHXJaTw9ZUZQVxiqh5mKGrjLQsi4O/J/UDYqZOCjcU60yZzh9B7oHzFLB7i5mlBoqNG9VDfD5pcW0SE2YBdy7kGKlj51c5GQEOuqbXFeD4dmdr4M0hW73w+NmK7g8fnV55LHpkaBJpmD+S+DeMAdakzLVBwo9Hb3272jIE2IrvOn9ik0LIO20AdOYFjEdcdMpo5u8IGTFhSaHZY2smu0Jmv6vvjhAEF6Ir4IZkdh8b9ARFXKzeoLbFuim1bNKVuLs50HdOWAL5rgtMkzZ1UbE64Hgbywuf8obWFZif/gmHIt2/f3nSQtobotB5XPF7CkFBt+q+e6w+xi3DQFoMo24Pbpq5zcud3f5UXqXwpmlkbUEx6ATo1o0IyK0ivdrivmfSFclat80JMQTvPFVSvgIBNM7nIUfxraC2WmZeqG/9J2847HZUo5kkpPtOkwnC2dzBQUOJbwcJvAdmsw/zSSIf8cV7G+piZbbn1Qcf+L5klzjXPmWvj8//vWQ7p+26T6AwlVhazi6lZ4WVaPMKjQT2BdH0xcDgoe0wvylyHCUsu6yz1FWfKVkvPI47VjbCoycGCclZjYT2tS5QbraccPm0PzcbE/jOHF5XMY4FkA7+xYwUzKD4zcYdKXQ2PQgpWXLZ9B7fELg0aq4ZAncAJgKFeBkOoqaf5jCJeyz6XfJvdD+Ix5KPIogOfcuWdekyInoABU5vwE28w/BrSnzmTB44MoHsA7/2JKIF1mr/Dc7TDSTDJhUfjwFYCSwM/h7pWo2aVHJhWYSZBiPAmB6WUvVb1/LWkr6mS+eR7spcQLGkBW/Qm2llWhzqsEtEveD/d44q15y0FOYHvqMBBqWQPU3RrIuCd9nQGpz/yKFirDCZhRbL8bxB/e1PvVeP/y7P0QduZMLcb0X8Dr4fXgVa0i3nk72lAUq5qXus8ccjjXlcYC8pT14FTlNqTB51XPO/nm0DWiXa7jRhryXM4fb6de4TCzbjBkoX8E80L5I9BhvMFnirwnVkMAbjNJdVdw27/KwQGAVdDDnuBC5c2UKv6P3PRJPYodTzvTCX6Vcsu2MRd1iXi4i6cEOvAml/UoCx99oi9rB134heyuR4QqPTZ9kTn1/AnV6ezWpnX7nCA3igXGA4/JHa/5H6RRrjCob6Lc8GJfosEYmzQbSP/UMmoAb5/6F1Cdi6tPZoSS7XKiUFb/UhgBLkQqboN5EEZow5Iu9/XXaXJuNkvPbtgDwiu1AMwWzyP5S0ObnT54BwHc2NNP92aXGlAxgfT8bDOOGlyCsycOG0fTTW22COK9AGGlnO+gjD/0CO2zIrGtvHiqEkWbNpBZj1jcwaSAcgnDjeMQ47VKIH5PNUj6EU66NET6+67mjB0yoH7RFfpiosIkl3sSNPhvViZijLWbuJcZlw78yybsERdZyi2YmPFFPcjCToO28CCzUwKYav8SG84aO/JXrDY2PQm8/soa9B9ktETnnr43G0ckHIGFYXRzSOXxEaLBZmIaWF7epLupcKlBnq8FjAyfHSjKKlSTmoLNlmsMPCgDICnUX1U2tqFx8ozif1BzwywNUOLqBj9dYrPE6FEEqDlexxyo0LsaKmjKD3Po2OBgVKTIFcXGenvFaY2YWLeqR4bdQjNxC7Pww4HulC/9VAx5+UjyWicp/EWv5Bj4TAJ+EqQPJPy7iS9kfqLExnoci/+3Pq9h3OpZhb1f/jo7EGs7hXdI/+oMoo1/1mWWedfMhdWs84aJt0sngoWdaHoO224Qb02WRkWSTyNdsmDA5sEWq5PU8Rm2wLuHGjGZ09JoFpMj1H7ivgtJrTOk6Vzw1O0wBc6zzRpjU5wlvmpwzzL5CHPRAWCIaIFlx8l+WcYFinDoZPITbOumInXr9gLl02QVR0GWSw+qdlOgeXLr9x1+SwTO3YpXxRUB2QUU+G2WnrdGn0H/Q0xvxSXMst9EWilpd2wpw9wE5iXZlItpPsdvHqsS4V/94hZocQaFfHQzvqfj/8bh759qTP81WTWv0VXK4/wgCDqE8pMiozCwTQipIW7N31EF4YP+UqPkzKzvTgI07AsvOm/swB17IKtdu/zhb39zvyDu1NFa1xS9yGwiqnE3EGshDNa20EbANmub/OwpEyAiEMwuSHAncukanFBZ2aLPIMVOzL0UEbO8UayVxMaphNGbyFsZlLZWFej/6JDg/vtyWcGvuYHzDrvpzTsQVA/3F/Chn3B9zcnFMzyvPyeLZdAlFtkO2UxHTPDOG49HZtQTEMw2Ze8vRbkIXtnM0c8DG+abiOiJioQ/Nr7rULDhOebY5ErjbO4eGs2w79c9MzyYGkT+3kv9Tq65akCLfjTV2HUuI7SXsVOt8IjOylxx+JmYi18gLa5kPSeiJm+LSlQEDtFScceteWIWIDl1y4WnBiGXX701cTX6hw2fbIy8Jty+csgcTbzxyaOyPUB1vt964P/ZVSCF+z7Sob2dwVqCr16hi4PzlPPnoDBQ6aN1ym70QrKnl4XY2Q6Gk8C9B2aNGKmtjszYgIxslDUmQo/NNgiUlpDbVgCFPA0VsauXrytttiZu7cbXfN2HKcbFZXhjCVWUtdc3Ef4X6I2YWuhVwnbDZISw2FUhrCQrM40fZcrI6bh3HgCCwb2Y5Qvi5k0HJluTSdMSGkpF1MVc9v0GN1uRvsdpET7gZE9ZeWHuDhh94tiZ/wlBblA6XRCKxFB4ncHrBDdMsNA3QikBLXZkV/aIQZTqwmmFooAAuUXroEUxTU6e3ON4uD/vxGycRIR0gv5I+AM4a4nteHOX6ax+iQIUNwaB0pS/D0DNTBIVz/I6dsLRcr/pyHhr0pjeNh8Ax/RB9Z/tqnB3ri8pBr7K68m9QfRqIeUzGtM6g9gSEFe/iJetlt1L5Q+kRmPKnjCWVJMay6KMHKFbetMKO3MY1u9WEaqdKIfxzqP9wHADOAtf8X8MGPTzeDpJeC0Zw5NeLhGPj+Mq8lc3sQoPCvb1S7YGyyhdDmCsr06Yh3l3Q0Epn7Sieh31IJdcZ4EJM7zApn/F37FLIwwF5eGRz2n++EPxcw2d8evyKkHY6jg3swmz34navRUSYW500Aw44cxMGrE2Wk+TvfjmUuz2IltpHIc1OLZjZUKrvIjyf96T2CQZkO5ZJzcrE9hmW2/13hQVBxJQRia+HTBDTWgMvl9lNCMFwOyxz6XCUTAlyXzigMnYltbn63PCDrksNcfnQ82cujy+NSL8c3RlrcAzhgsuM2s+dVPkfjrQIxYZ/ClhmMnEppC6v7OR/tyORklIzaaLI5S+llHH4VJdGce+E1PBmpSmUP0CtXbYvqFZZGMHjhuZjLcPJGBKhOEiTq1yqANfNFy+7ka43NZS/p5+0XWdu82WGLnkMj8+CRGkgo+yA1MSFDaxzJ7hX2qRYYaZn0QUQd3jPxHZ/aYwr20b4d2gwRD6KOdVG7E4P39Bfttc5mwQTcz4oKmT5rsm1hH9fenNPQm8obGUm+DtPIGnvjIBwjQHek9F85ZthOyzZbWYBvnOy58yRGMiH3vbqVWm7WVTOx4lJdV1WEBjud55Qjw79QDHBBAEinGenT0kcTTRsrLgMORH9j6AUzifUp38Ub9dvi1Poq3f2neUtvuITtzN4T73FAIxmunGU6+WoRieZFLSL3AWknDOINe4FjthFtoQWARymrCQMB5h5OikNmIXf+8uS7jcLMqWigEgfL/GBKY9F+LJHVEChrdDti7GCrpIXSPKP+Dw62zGQ0GBSFbXrt0n6QSQ6SwaPXQ5IF40DWkIiIySTY/UVmzrD1cAQtJXS6WK7CqF8Nu8eMJeCRrpAbqSDzPB4pBFMJjO7i+xZrj9svwN2dWmqrj98PD6/bvACgo9EELVm+q3ww4Ab5//nxWg1JgDoYedgAAVSLEBGUX0Xh0EOxtGF7MR/h++xe3WV7GlVnfxp4l5Qfws3Rm80Sm/ttf5a9RJyvAqKiL5JZEDxtYuyEA8TUJ8e095YCyCq5qNo/M2n0nzk8dpZ91zxJc5rWZ5vdPOW1iNhlE7sXbqpFgdvshhMPh9i61wZzRKzbP6VqLaYKeM039ZPVwesQ3Qi/fl10SRvA1EaaWk/vrauZsRITpCwrQqB2N3Wyq3Gib6JzOUJoUjHkRcLMZzqAjyjjW0qhLNvNKhAQvo56+exH4nPyiD8bzyQ3mkus1R0pp5K5/RcnTakaJPRwjg1fGYUbQBlaUCeyFlRTnBKbqbQNzblWK9ubz14bvKNL0d8OrKN1RkDH/N55Wkv7bXLVu1Hk1hzPEtjK9RDEkjvVT15bxzjAVyUmOsm0sB18rfschnwVzTT24u3Ag6OTpQUqpJMdJPQtywVquUDtID235F773IKYft5QKgPy8504+0/H45s7z6pve3xT5wzSB5Tt3AUa0/a5Yl423jZ5N58BIr97VkrGiax3vu2Lg7wrWMWWOSKivVAwETQMB81bImrKn8xBaW+MXSsHT3ZSNU8i15siQf1zpqn41nNnGx2r08OYBnJtdFdiJeDznQ+TuC0A4mkgAKpFiA1Lch7a20xUET0r8atqN3pMFmQLGqZXNLR3ycY8B6VZK7m74AKMFfwIoOnyrHu4BVW9DuVugtWQc/bFsVMTiKGlnpfWBX+xu6I5UqMWNaqJUgbIyINFqOz7oMp18bHMzHG1zGPYhE48ry+OZgGSeptU8hUJez/5xX4zKWgjLfGK0ywLeCtdcjdKoIk68lkL1F95CUAEs5chMat2L2o9MlqVVRf2PKyhbFqKwuan8Fr+f5xf9zyK/X3zPVHvW6OkB7W04H9JAWVvZU3vZQxW9/WYL7ymBiVnkDBLITR3tOBwuhrtWNzAW/1ZOCZsTN3GxsmFYYy9Kb8O/66qbr+s1P0vLnFGzIFIaxm1v0iRY1MGOseJyUc6T0byh3BpdngYbpJ5DZVVDWYFOOPPa+lqGLkCL18etsZXgIHHgAA4ls3rQcvLeXJ2SLFhV96y0SpGZcweNrhXBdG+H6dKE6B196hmWf+6LY0bl6S2flNvEdOoGhwgeYKQvx02ztWyKcncB4MxyyaLsd/KPTtRMkvIs0nOnickfW88A3sGpFq9XE6m5Yzd2QmjuCCzDQTzsllFAB7QjPSVj7ZgdIz+PQRocrthBTmMrhOgFnOJ6z37Cm7wFA9uKuR/0XlnmaqnIUOOk6APYyYdIYuWuPQ9b3vXaP12RsB95BpiFlsq/PBbXU9VyKp4spTgItFwZ8MAJb1Hb729EIRmDDLM2iZ/OyVJl3sC/5PwyylsBmhlMa5rzUQZ1ELDnU4IXt3lo6/NnMwfmsT0plHqUKdnTF266eHhBYsZS8P03SD1hSFzeoO4pX6XRpJpuh+yR6y2roNQoHMyKzA84l/Xufp4Q8oB3Jyx6fdhB59hnSGtlNbNbdHGX/l0DsEuhPET3eTOCkME0YbQY9JP99KB6IB/8k+fSPW3jbFZgdL9/ek5IeVOL2Q7ZKZ9pAiiQiVkNxD9crxoKVYViNiMdeHWmSLK7ztVrrFepTqU+RbqbbccPzRWF1Ou3nmVcDNAtS/8WkW3wnsNwcJmTA6iOi5ZaLGZaSG1rqYidKyAXw5csAnk+dvF1efCUkA8xuOCD1REt8DIhr2SaQffOkKx0gJjMjy+qXgLk1VuRhXF9DO3IOi0gEXAJZhv4ejX57KnMM5I+G5othjn99kSB/mPHkNoVnm+V2AckUekJeNAsrvcqSmFwr8m19m7/pgAAAAAAAA" width="327" height="400" class="img_ev3q"></p><p>Which demonstrates that you&#x27;re being granted an extra scope. With your new shiny access token you can now access the oh-so-secret Admin endpoint.</p><p>I had some more questions about Auth0 as I&#x27;m still new to it myself. To see my question (and the very helpful answer!) go here: <a href="https://community.auth0.com/questions/13786/get-user-data-server-side-what-is-a-good-approach" target="_blank" rel="noopener noreferrer">https://community.auth0.com/questions/13786/get-user-data-server-side-what-is-a-good-approach</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/asp-net-core">ASP.Net Core</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/auth-0">Auth0</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/type-script">TypeScript</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/o-auth">OAuth</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/react">React</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/react/page/8"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/react/page/10"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.buymeacoffee.com/qUBm0Wh" rel="noopener" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" loading="lazy" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></li><li class="footer__item"><iframe src="https://github.com/sponsors/johnnyreilly/card" title="Sponsor johnnyreilly" style="border: 0; border-radius: 10px; background-color: white; min-height: 200px;"></iframe></li></ul></div><div class="col footer__col"><div class="footer__title">Feeds</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.johnnyreilly.com/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.johnnyreilly.com/atom.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Atom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2012 - 2022 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.20254d35.js"></script>
<script src="/assets/js/main.da33b2ab.js"></script>
</body>
</html>